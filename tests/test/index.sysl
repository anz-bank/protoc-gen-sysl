
Foo:
    @description = ""
    @package = "grpc_testing"
    Foobar(input <: grpc_testing.StreamingOutputCallRequest):
        @description = ""
        return ok <: grpc_testing.StreamingOutputCallResponse

TestService:
    @description =:
        |// A simple service to test the various types of RPCs and experiment with
        |// performance with various types of payload.
        |// One empty request followed by one empty response.
        |//    rpc EmptyCall(Empty) returns (Empty);
    @package = "grpc_testing"
    FullDuplexCall(input <: grpc_testing.StreamingOutputCallRequest):
        @description =:
            |// A sequence of requests with each request served by the server immediately.
            |// As one request could lead to multiple responses, this interface
            |// demonstrates the idea of full duplexing.
        return ok <: grpc_testing.StreamingOutputCallResponse
    HalfDuplexCall(input <: grpc_testing.StreamingOutputCallRequest):
        @description =:
            |// A sequence of requests followed by a sequence of responses.
            |// The server buffers all the client requests and then serves them in order. A
            |// stream of responses are returned to the client when the server starts with
            |// first request.
        return ok <: grpc_testing.StreamingOutputCallResponse
    StreamingInputCall(input <: grpc_testing.StreamingInputCallRequest):
        @description =:
            |// A sequence of requests followed by one response (streamed upload).
            |// The server returns the aggregated size of client payload as the result.
        return ok <: grpc_testing.StreamingInputCallResponse
    StreamingOutputCall(input <: grpc_testing.StreamingOutputCallRequest):
        @description =:
            |// One request followed by a sequence of responses (streamed download).
            |// The server returns the payload with client desired type and sizes.
        return ok <: grpc_testing.StreamingOutputCallResponse

google_protobuf:
    @package = "google_protobuf"
    !type DescriptorProto:
        @description =:
            |// Describes a message type.
        enum_type <: sequence of EnumDescriptorProto
        extension <: sequence of FieldDescriptorProto
        extension_range <: sequence of DescriptorProto_ExtensionRange
        field <: sequence of FieldDescriptorProto
        name <: string:
            @json_tag = "name"
            @rpcId = "1"
        nested_type <: sequence of DescriptorProto
        oneof_decl <: sequence of OneofDescriptorProto
        options <: MessageOptions:
            @json_tag = "options"
            @rpcId = "7"
        reserved_name <: sequence of string
        reserved_range <: sequence of DescriptorProto_ReservedRange
    !type DescriptorProto_ExtensionRange:
        end <: int:
            @json_tag = "end"
            @rpcId = "2"
        options <: ExtensionRangeOptions:
            @json_tag = "options"
            @rpcId = "3"
        start <: int:
            @json_tag = "start"
            @rpcId = "1"
    !type DescriptorProto_ReservedRange:
        @description =:
            |// Range of reserved tag numbers. Reserved tag numbers may not be used by
            |// fields or extension ranges in the same message. Reserved ranges may
            |// not overlap.
        end <: int:
            @json_tag = "end"
            @rpcId = "2"
        start <: int:
            @json_tag = "start"
            @rpcId = "1"
    !type EnumDescriptorProto:
        @description =:
            |// Describes an enum type.
        name <: string:
            @json_tag = "name"
            @rpcId = "1"
        options <: EnumOptions:
            @json_tag = "options"
            @rpcId = "3"
        reserved_name <: sequence of string
        reserved_range <: sequence of EnumDescriptorProto_EnumReservedRange
        value <: sequence of EnumValueDescriptorProto
    !type EnumDescriptorProto_EnumReservedRange:
        @description =:
            |// Range of reserved numeric values. Reserved values may not be used by
            |// entries in the same enum. Reserved ranges may not overlap.
            |//
            |// Note that this is distinct from DescriptorProto.ReservedRange in that it
            |// is inclusive such that it can appropriately represent the entire int32
            |// domain.
        end <: int:
            @json_tag = "end"
            @rpcId = "2"
        start <: int:
            @json_tag = "start"
            @rpcId = "1"
    !type EnumOptions:
        allow_alias <: bool:
            @json_tag = "allowAlias"
            @rpcId = "2"
        deprecated <: bool:
            @json_tag = "deprecated"
            @rpcId = "3"
        uninterpreted_option <: sequence of UninterpretedOption
    !type EnumValueDescriptorProto:
        @description =:
            |// Describes a value within an enum.
        name <: string:
            @json_tag = "name"
            @rpcId = "1"
        number <: int:
            @json_tag = "number"
            @rpcId = "2"
        options <: EnumValueOptions:
            @json_tag = "options"
            @rpcId = "3"
    !type EnumValueOptions:
        deprecated <: bool:
            @json_tag = "deprecated"
            @rpcId = "1"
        uninterpreted_option <: sequence of UninterpretedOption
    !type ExtensionRangeOptions:
        uninterpreted_option <: sequence of UninterpretedOption
    !type FieldDescriptorProto:
        @description =:
            |// Describes a field within a message.
        default_value <: string:
            @json_tag = "defaultValue"
            @rpcId = "7"
        extendee <: string:
            @json_tag = "extendee"
            @rpcId = "2"
        json_name <: string:
            @json_tag = "jsonName"
            @rpcId = "10"
        label <: FieldDescriptorProto_Label:
            @json_tag = "label"
            @rpcId = "4"
        name <: string:
            @json_tag = "name"
            @rpcId = "1"
        number <: int:
            @json_tag = "number"
            @rpcId = "3"
        oneof_index <: int:
            @json_tag = "oneofIndex"
            @rpcId = "9"
        options <: FieldOptions:
            @json_tag = "options"
            @rpcId = "8"
        type <: FieldDescriptorProto_Type:
            @json_tag = "type"
            @rpcId = "5"
        type_name <: string:
            @json_tag = "typeName"
            @rpcId = "6"
    !enum FieldDescriptorProto_Label:
        LABEL_OPTIONAL: 1
        LABEL_REPEATED: 3
        LABEL_REQUIRED: 2
    !enum FieldDescriptorProto_Type:
        TYPE_BOOL: 8
        TYPE_BYTES: 12
        TYPE_DOUBLE: 1
        TYPE_ENUM: 14
        TYPE_FIXED32: 7
        TYPE_FIXED64: 6
        TYPE_FLOAT: 2
        TYPE_GROUP: 10
        TYPE_INT32: 5
        TYPE_INT64: 3
        TYPE_MESSAGE: 11
        TYPE_SFIXED32: 15
        TYPE_SFIXED64: 16
        TYPE_SINT32: 17
        TYPE_SINT64: 18
        TYPE_STRING: 9
        TYPE_UINT32: 13
        TYPE_UINT64: 4
    !type FieldOptions:
        ctype <: FieldOptions_CType:
            @json_tag = "ctype"
            @rpcId = "1"
        deprecated <: bool:
            @json_tag = "deprecated"
            @rpcId = "3"
        jstype <: FieldOptions_JSType:
            @json_tag = "jstype"
            @rpcId = "6"
        lazy <: bool:
            @json_tag = "lazy"
            @rpcId = "5"
        packed <: bool:
            @json_tag = "packed"
            @rpcId = "2"
        uninterpreted_option <: sequence of UninterpretedOption
        weak <: bool:
            @json_tag = "weak"
            @rpcId = "10"
    !enum FieldOptions_CType:
        CORD: 1
        STRING_: 0
        STRING_PIECE: 2
    !enum FieldOptions_JSType:
        JS_NORMAL: 0
        JS_NUMBER: 2
        JS_STRING: 1
    !type FileDescriptorProto:
        @description =:
            |// Describes a complete .proto file.
        dependency <: sequence of string
        enum_type <: sequence of EnumDescriptorProto
        extension <: sequence of FieldDescriptorProto
        message_type <: sequence of DescriptorProto
        name <: string:
            @json_tag = "name"
            @rpcId = "1"
        options <: FileOptions:
            @json_tag = "options"
            @rpcId = "8"
        package <: string:
            @json_tag = "package"
            @rpcId = "2"
        public_dependency <: sequence of int
        service <: sequence of ServiceDescriptorProto
        source_code_info <: SourceCodeInfo:
            @json_tag = "sourceCodeInfo"
            @rpcId = "9"
        syntax <: string:
            @json_tag = "syntax"
            @rpcId = "12"
        weak_dependency <: sequence of int
    !type FileDescriptorSet:
        @description =:
            |// The protocol compiler can output a FileDescriptorSet containing the .proto
            |// files it parses.
        file <: sequence of FileDescriptorProto
    !type FileOptions:
        cc_enable_arenas <: bool:
            @json_tag = "ccEnableArenas"
            @rpcId = "31"
        cc_generic_services <: bool:
            @json_tag = "ccGenericServices"
            @rpcId = "16"
        csharp_namespace <: string:
            @json_tag = "csharpNamespace"
            @rpcId = "37"
        deprecated <: bool:
            @json_tag = "deprecated"
            @rpcId = "23"
        go_package <: string:
            @json_tag = "goPackage"
            @rpcId = "11"
        java_generate_equals_and_hash <: bool:
            @json_tag = "javaGenerateEqualsAndHash"
            @rpcId = "20"
        java_generic_services <: bool:
            @json_tag = "javaGenericServices"
            @rpcId = "17"
        java_multiple_files <: bool:
            @json_tag = "javaMultipleFiles"
            @rpcId = "10"
        java_outer_classname <: string:
            @json_tag = "javaOuterClassname"
            @rpcId = "8"
        java_package <: string:
            @json_tag = "javaPackage"
            @rpcId = "1"
        java_string_check_utf8 <: bool:
            @json_tag = "javaStringCheckUtf8"
            @rpcId = "27"
        objc_class_prefix <: string:
            @json_tag = "objcClassPrefix"
            @rpcId = "36"
        optimize_for <: FileOptions_OptimizeMode:
            @json_tag = "optimizeFor"
            @rpcId = "9"
        php_class_prefix <: string:
            @json_tag = "phpClassPrefix"
            @rpcId = "40"
        php_generic_services <: bool:
            @json_tag = "phpGenericServices"
            @rpcId = "42"
        php_metadata_namespace <: string:
            @json_tag = "phpMetadataNamespace"
            @rpcId = "44"
        php_namespace <: string:
            @json_tag = "phpNamespace"
            @rpcId = "41"
        py_generic_services <: bool:
            @json_tag = "pyGenericServices"
            @rpcId = "18"
        ruby_package <: string:
            @json_tag = "rubyPackage"
            @rpcId = "45"
        swift_prefix <: string:
            @json_tag = "swiftPrefix"
            @rpcId = "39"
        uninterpreted_option <: sequence of UninterpretedOption
    !enum FileOptions_OptimizeMode:
        CODE_SIZE: 2
        LITE_RUNTIME: 3
        SPEED: 1
    !type GeneratedCodeInfo:
        @description =:
            |// Describes the relationship between generated code and its original source
            |// file. A GeneratedCodeInfo message is associated with only one generated
            |// source file, but may contain references to different source .proto files.
        annotation <: sequence of GeneratedCodeInfo_Annotation
    !type GeneratedCodeInfo_Annotation:
        begin <: int:
            @json_tag = "begin"
            @rpcId = "3"
        end <: int:
            @json_tag = "end"
            @rpcId = "4"
        path <: sequence of int
        source_file <: string:
            @json_tag = "sourceFile"
            @rpcId = "2"
    !type MessageOptions:
        deprecated <: bool:
            @json_tag = "deprecated"
            @rpcId = "3"
        map_entry <: bool:
            @json_tag = "mapEntry"
            @rpcId = "7"
        message_set_wire_format <: bool:
            @json_tag = "messageSetWireFormat"
            @rpcId = "1"
        no_standard_descriptor_accessor <: bool:
            @json_tag = "noStandardDescriptorAccessor"
            @rpcId = "2"
        uninterpreted_option <: sequence of UninterpretedOption
    !type MethodDescriptorProto:
        @description =:
            |// Describes a method of a service.
        client_streaming <: bool:
            @json_tag = "clientStreaming"
            @rpcId = "5"
        input_type <: string:
            @json_tag = "inputType"
            @rpcId = "2"
        name <: string:
            @json_tag = "name"
            @rpcId = "1"
        options <: MethodOptions:
            @json_tag = "options"
            @rpcId = "4"
        output_type <: string:
            @json_tag = "outputType"
            @rpcId = "3"
        server_streaming <: bool:
            @json_tag = "serverStreaming"
            @rpcId = "6"
    !type MethodOptions:
        deprecated <: bool:
            @json_tag = "deprecated"
            @rpcId = "33"
        idempotency_level <: MethodOptions_IdempotencyLevel:
            @json_tag = "idempotencyLevel"
            @rpcId = "34"
        uninterpreted_option <: sequence of UninterpretedOption
    !enum MethodOptions_IdempotencyLevel:
        IDEMPOTENCY_UNKNOWN: 0
        IDEMPOTENT: 2
        NO_SIDE_EFFECTS: 1
    !type OneofDescriptorProto:
        @description =:
            |// Describes a oneof.
        name <: string:
            @json_tag = "name"
            @rpcId = "1"
        options <: OneofOptions:
            @json_tag = "options"
            @rpcId = "2"
    !type OneofOptions:
        uninterpreted_option <: sequence of UninterpretedOption
    !type ServiceDescriptorProto:
        @description =:
            |// Describes a service.
        method <: sequence of MethodDescriptorProto
        name <: string:
            @json_tag = "name"
            @rpcId = "1"
        options <: ServiceOptions:
            @json_tag = "options"
            @rpcId = "3"
    !type ServiceOptions:
        deprecated <: bool:
            @json_tag = "deprecated"
            @rpcId = "33"
        uninterpreted_option <: sequence of UninterpretedOption
    !type SourceCodeInfo:
        @description =:
            |// Encapsulates information about the original source file from which a
            |// FileDescriptorProto was generated.
        location <: sequence of SourceCodeInfo_Location
    !type SourceCodeInfo_Location:
        leading_comments <: string:
            @json_tag = "leadingComments"
            @rpcId = "3"
        leading_detached_comments <: sequence of string
        path <: sequence of int
        span <: sequence of int
        trailing_comments <: string:
            @json_tag = "trailingComments"
            @rpcId = "4"
    !type UninterpretedOption:
        @description =:
            |// A message representing a option the parser does not recognize. This only
            |// appears in options protos created by the compiler::Parser class.
            |// DescriptorPool resolves these when building Descriptor objects. Therefore,
            |// options protos in descriptor objects (e.g. returned by Descriptor::options(),
            |// or produced by Descriptor::CopyTo()) will never have UninterpretedOptions
            |// in them.
        aggregate_value <: string:
            @json_tag = "aggregateValue"
            @rpcId = "8"
        double_value <: float:
            @json_tag = "doubleValue"
            @rpcId = "6"
        identifier_value <: string:
            @json_tag = "identifierValue"
            @rpcId = "3"
        name <: sequence of UninterpretedOption_NamePart
        negative_int_value <: int:
            @json_tag = "negativeIntValue"
            @rpcId = "5"
        positive_int_value <: int:
            @json_tag = "positiveIntValue"
            @rpcId = "4"
        string_value <: bytes:
            @json_tag = "stringValue"
            @rpcId = "7"
    !type UninterpretedOption_NamePart:
        @description =:
            |// The name of the uninterpreted option.  Each string represents a segment in
            |// a dot-separated name.  is_extension is true iff a segment represents an
            |// extension (denoted with parentheses in options specs in .proto files).
            |// E.g.,{ ["foo", false], ["bar.baz", true], ["qux", false] } represents
            |// "foo.(bar.baz).qux".
        is_extension <: bool:
            @json_tag = "isExtension"
            @rpcId = "2"
        name_part <: string:
            @json_tag = "namePart"
            @rpcId = "1"

grpc_testing:
    @package = "grpc_testing"
    !type EchoStatus:
        @description =:
            |// A protobuf representation for grpc status. This is used by test
            |// clients to specify a status that the server should attempt to return.
        code <: int:
            @json_tag = "code"
            @rpcId = "1"
        message <: string:
            @json_tag = "message"
            @rpcId = "2"
    !enum GrpclbRouteType:
        GRPCLB_ROUTE_TYPE_BACKEND: 2
        GRPCLB_ROUTE_TYPE_FALLBACK: 1
        GRPCLB_ROUTE_TYPE_UNKNOWN: 0
    !type Payload:
        @description =:
            |// A block of data, to simply increase gRPC message size.
        body <: bytes:
            @json_tag = "body"
            @rpcId = "2"
        type <: PayloadType:
            @json_tag = "type"
            @rpcId = "1"
    !enum PayloadType:
        COMPRESSABLE: 0
        RANDOM: 2
        UNCOMPRESSABLE: 1
    !type ResponseParameters:
        @description =:
            |// Configuration for a particular response.
        interval_us <: int:
            @json_tag = "intervalUs"
            @rpcId = "2"
        size <: int:
            @json_tag = "size"
            @rpcId = "1"
    !type SimpleRequest:
        @description =:
            |// Unary request.
        fill_grpclb_route_type <: bool:
            @json_tag = "fillGrpclbRouteType"
            @rpcId = "10"
        fill_oauth_scope <: bool:
            @json_tag = "fillOauthScope"
            @rpcId = "5"
        fill_server_id <: bool:
            @json_tag = "fillServerId"
            @rpcId = "9"
        fill_username <: bool:
            @json_tag = "fillUsername"
            @rpcId = "4"
        payload <: Payload:
            @json_tag = "payload"
            @rpcId = "3"
        response_size <: int:
            @json_tag = "responseSize"
            @rpcId = "2"
        response_status <: EchoStatus:
            @json_tag = "responseStatus"
            @rpcId = "7"
        response_type <: PayloadType:
            @json_tag = "responseType"
            @rpcId = "1"
    !type SimpleResponse:
        @description =:
            |// Unary response, as configured by the request.
        grpclb_route_type <: GrpclbRouteType:
            @json_tag = "grpclbRouteType"
            @rpcId = "5"
        oauth_scope <: string:
            @json_tag = "oauthScope"
            @rpcId = "3"
        payload <: Payload:
            @json_tag = "payload"
            @rpcId = "1"
        server_id <: string:
            @json_tag = "serverId"
            @rpcId = "4"
        username <: string:
            @json_tag = "username"
            @rpcId = "2"
    !type StreamingInputCallRequest:
        @description =:
            |// Client-streaming request.
        payload <: Payload:
            @json_tag = "payload"
            @rpcId = "1"
    !type StreamingInputCallResponse:
        @description =:
            |// Client-streaming response.
        aggregated_payload_size <: int:
            @json_tag = "aggregatedPayloadSize"
            @rpcId = "1"
    !type StreamingOutputCallRequest:
        @description =:
            |// Server-streaming request.
        payload <: Payload:
            @json_tag = "payload"
            @rpcId = "3"
        response_parameters <: sequence of ResponseParameters
        response_status <: EchoStatus:
            @json_tag = "responseStatus"
            @rpcId = "7"
        response_type <: PayloadType:
            @json_tag = "responseType"
            @rpcId = "1"
    !type StreamingOutputCallResponse:
        @description =:
            |// Server-streaming response, as configured by the request and parameters.
        payload <: Payload:
            @json_tag = "payload"
            @rpcId = "1"

