
Foo:
    @description = ""
    @package = "grpc_testing"
    Foobar(input <: grpc_testing.StreamingOutputCallRequest):
        @description = ""
        return ok <: grpc_testing.StreamingOutputCallResponse

TestService:
    @description =:
        |// A simple service to test the various types of RPCs and experiment with
        |// performance with various types of payload.
        |// One empty request followed by one empty response.
        |//    rpc EmptyCall(Empty) returns (Empty);
    @package = "grpc_testing"
    FullDuplexCall(input <: grpc_testing.StreamingOutputCallRequest):
        @description =:
            |// A sequence of requests with each request served by the server immediately.
            |// As one request could lead to multiple responses, this interface
            |// demonstrates the idea of full duplexing.
        return ok <: grpc_testing.StreamingOutputCallResponse
    HalfDuplexCall(input <: grpc_testing.StreamingOutputCallRequest):
        @description =:
            |// A sequence of requests followed by a sequence of responses.
            |// The server buffers all the client requests and then serves them in order. A
            |// stream of responses are returned to the client when the server starts with
            |// first request.
        return ok <: grpc_testing.StreamingOutputCallResponse
    StreamingInputCall(input <: grpc_testing.StreamingInputCallRequest):
        @description =:
            |// A sequence of requests followed by one response (streamed upload).
            |// The server returns the aggregated size of client payload as the result.
        return ok <: grpc_testing.StreamingInputCallResponse
    StreamingOutputCall(input <: grpc_testing.StreamingOutputCallRequest):
        @description =:
            |// One request followed by a sequence of responses (streamed download).
            |// The server returns the payload with client desired type and sizes.
        return ok <: grpc_testing.StreamingOutputCallResponse

google_protobuf:
    @package = "google_protobuf"
    !type DescriptorProto:
        @description =:
            |// Describes a message type.
        EnumType <: sequence of google_protobuf_EnumDescriptorProto.EnumDescriptorProto
        Extension <: sequence of google_protobuf_FieldDescriptorProto.FieldDescriptorProto
        ExtensionRange <: sequence of google_protobuf_DescriptorProto_ExtensionRange.DescriptorProto_ExtensionRange
        Field <: sequence of google_protobuf_FieldDescriptorProto.FieldDescriptorProto
        Name <: string:
            @json_tag = "name"
            @rpcId = "1"
        NestedType <: sequence of google_protobuf_DescriptorProto.DescriptorProto
        OneofDecl <: sequence of google_protobuf_OneofDescriptorProto.OneofDescriptorProto
        Options <: google_protobuf_MessageOptions.MessageOptions:
            @json_tag = "options"
            @rpcId = "7"
        ReservedName <: sequence of string
        ReservedRange <: sequence of google_protobuf_DescriptorProto_ReservedRange.DescriptorProto_ReservedRange
    !type EnumDescriptorProto:
        @description =:
            |// Describes an enum type.
        Name <: string:
            @json_tag = "name"
            @rpcId = "1"
        Options <: google_protobuf_EnumOptions.EnumOptions:
            @json_tag = "options"
            @rpcId = "3"
        ReservedName <: sequence of string
        ReservedRange <: sequence of google_protobuf_EnumDescriptorProto_EnumReservedRange.EnumDescriptorProto_EnumReservedRange
        Value <: sequence of google_protobuf_EnumValueDescriptorProto.EnumValueDescriptorProto
    !type EnumOptions:
        AllowAlias <: bool:
            @json_tag = "allowAlias"
            @rpcId = "2"
        Deprecated <: bool:
            @json_tag = "deprecated"
            @rpcId = "3"
        UninterpretedOption <: sequence of google_protobuf_UninterpretedOption.UninterpretedOption
    !type EnumValueDescriptorProto:
        @description =:
            |// Describes a value within an enum.
        Name <: string:
            @json_tag = "name"
            @rpcId = "1"
        Number <: int:
            @json_tag = "number"
            @rpcId = "2"
        Options <: google_protobuf_EnumValueOptions.EnumValueOptions:
            @json_tag = "options"
            @rpcId = "3"
    !type EnumValueOptions:
        Deprecated <: bool:
            @json_tag = "deprecated"
            @rpcId = "1"
        UninterpretedOption <: sequence of google_protobuf_UninterpretedOption.UninterpretedOption
    !type ExtensionRangeOptions:
        UninterpretedOption <: sequence of google_protobuf_UninterpretedOption.UninterpretedOption
    !type FieldDescriptorProto:
        @description =:
            |// Describes a field within a message.
        DefaultValue <: string:
            @json_tag = "defaultValue"
            @rpcId = "7"
        Extendee <: string:
            @json_tag = "extendee"
            @rpcId = "2"
        JsonName <: string:
            @json_tag = "jsonName"
            @rpcId = "10"
        Label <: google_protobuf_FieldDescriptorProto.FieldDescriptorProto_Label:
            @json_tag = "label"
            @rpcId = "4"
        Name <: string:
            @json_tag = "name"
            @rpcId = "1"
        Number <: int:
            @json_tag = "number"
            @rpcId = "3"
        OneofIndex <: int:
            @json_tag = "oneofIndex"
            @rpcId = "9"
        Options <: google_protobuf_FieldOptions.FieldOptions:
            @json_tag = "options"
            @rpcId = "8"
        Type <: google_protobuf_FieldDescriptorProto.FieldDescriptorProto_Type:
            @json_tag = "type"
            @rpcId = "5"
        TypeName <: string:
            @json_tag = "typeName"
            @rpcId = "6"
    !type FieldOptions:
        Ctype <: google_protobuf_FieldOptions.FieldOptions_CType:
            @json_tag = "ctype"
            @rpcId = "1"
        Deprecated <: bool:
            @json_tag = "deprecated"
            @rpcId = "3"
        Jstype <: google_protobuf_FieldOptions.FieldOptions_JSType:
            @json_tag = "jstype"
            @rpcId = "6"
        Lazy <: bool:
            @json_tag = "lazy"
            @rpcId = "5"
        Packed <: bool:
            @json_tag = "packed"
            @rpcId = "2"
        UninterpretedOption <: sequence of google_protobuf_UninterpretedOption.UninterpretedOption
        Weak <: bool:
            @json_tag = "weak"
            @rpcId = "10"
    !type FileDescriptorProto:
        @description =:
            |// Describes a complete .proto file.
        Dependency <: sequence of string
        EnumType <: sequence of google_protobuf_EnumDescriptorProto.EnumDescriptorProto
        Extension <: sequence of google_protobuf_FieldDescriptorProto.FieldDescriptorProto
        MessageType <: sequence of google_protobuf_DescriptorProto.DescriptorProto
        Name <: string:
            @json_tag = "name"
            @rpcId = "1"
        Options <: google_protobuf_FileOptions.FileOptions:
            @json_tag = "options"
            @rpcId = "8"
        Package <: string:
            @json_tag = "package"
            @rpcId = "2"
        PublicDependency <: sequence of int
        Service <: sequence of google_protobuf_ServiceDescriptorProto.ServiceDescriptorProto
        SourceCodeInfo <: google_protobuf_SourceCodeInfo.SourceCodeInfo:
            @json_tag = "sourceCodeInfo"
            @rpcId = "9"
        Syntax <: string:
            @json_tag = "syntax"
            @rpcId = "12"
        WeakDependency <: sequence of int
    !type FileDescriptorSet:
        @description =:
            |// The protocol compiler can output a FileDescriptorSet containing the .proto
            |// files it parses.
        File <: sequence of google_protobuf_FileDescriptorProto.FileDescriptorProto
    !type FileOptions:
        CcEnableArenas <: bool:
            @json_tag = "ccEnableArenas"
            @rpcId = "31"
        CcGenericServices <: bool:
            @json_tag = "ccGenericServices"
            @rpcId = "16"
        CsharpNamespace <: string:
            @json_tag = "csharpNamespace"
            @rpcId = "37"
        Deprecated <: bool:
            @json_tag = "deprecated"
            @rpcId = "23"
        GoPackage <: string:
            @json_tag = "goPackage"
            @rpcId = "11"
        JavaGenerateEqualsAndHash <: bool:
            @json_tag = "javaGenerateEqualsAndHash"
            @rpcId = "20"
        JavaGenericServices <: bool:
            @json_tag = "javaGenericServices"
            @rpcId = "17"
        JavaMultipleFiles <: bool:
            @json_tag = "javaMultipleFiles"
            @rpcId = "10"
        JavaOuterClassname <: string:
            @json_tag = "javaOuterClassname"
            @rpcId = "8"
        JavaPackage <: string:
            @json_tag = "javaPackage"
            @rpcId = "1"
        JavaStringCheckUtf8 <: bool:
            @json_tag = "javaStringCheckUtf8"
            @rpcId = "27"
        ObjcClassPrefix <: string:
            @json_tag = "objcClassPrefix"
            @rpcId = "36"
        OptimizeFor <: google_protobuf_FileOptions.FileOptions_OptimizeMode:
            @json_tag = "optimizeFor"
            @rpcId = "9"
        PhpClassPrefix <: string:
            @json_tag = "phpClassPrefix"
            @rpcId = "40"
        PhpGenericServices <: bool:
            @json_tag = "phpGenericServices"
            @rpcId = "42"
        PhpMetadataNamespace <: string:
            @json_tag = "phpMetadataNamespace"
            @rpcId = "44"
        PhpNamespace <: string:
            @json_tag = "phpNamespace"
            @rpcId = "41"
        PyGenericServices <: bool:
            @json_tag = "pyGenericServices"
            @rpcId = "18"
        RubyPackage <: string:
            @json_tag = "rubyPackage"
            @rpcId = "45"
        SwiftPrefix <: string:
            @json_tag = "swiftPrefix"
            @rpcId = "39"
        UninterpretedOption <: sequence of google_protobuf_UninterpretedOption.UninterpretedOption
    !type GeneratedCodeInfo:
        @description =:
            |// Describes the relationship between generated code and its original source
            |// file. A GeneratedCodeInfo message is associated with only one generated
            |// source file, but may contain references to different source .proto files.
        Annotation <: sequence of google_protobuf_GeneratedCodeInfo_Annotation.GeneratedCodeInfo_Annotation
    !type MessageOptions:
        Deprecated <: bool:
            @json_tag = "deprecated"
            @rpcId = "3"
        MapEntry <: bool:
            @json_tag = "mapEntry"
            @rpcId = "7"
        MessageSetWireFormat <: bool:
            @json_tag = "messageSetWireFormat"
            @rpcId = "1"
        NoStandardDescriptorAccessor <: bool:
            @json_tag = "noStandardDescriptorAccessor"
            @rpcId = "2"
        UninterpretedOption <: sequence of google_protobuf_UninterpretedOption.UninterpretedOption
    !type MethodDescriptorProto:
        @description =:
            |// Describes a method of a service.
        ClientStreaming <: bool:
            @json_tag = "clientStreaming"
            @rpcId = "5"
        InputType <: string:
            @json_tag = "inputType"
            @rpcId = "2"
        Name <: string:
            @json_tag = "name"
            @rpcId = "1"
        Options <: google_protobuf_MethodOptions.MethodOptions:
            @json_tag = "options"
            @rpcId = "4"
        OutputType <: string:
            @json_tag = "outputType"
            @rpcId = "3"
        ServerStreaming <: bool:
            @json_tag = "serverStreaming"
            @rpcId = "6"
    !type MethodOptions:
        Deprecated <: bool:
            @json_tag = "deprecated"
            @rpcId = "33"
        IdempotencyLevel <: google_protobuf_MethodOptions.MethodOptions_IdempotencyLevel:
            @json_tag = "idempotencyLevel"
            @rpcId = "34"
        UninterpretedOption <: sequence of google_protobuf_UninterpretedOption.UninterpretedOption
    !type OneofDescriptorProto:
        @description =:
            |// Describes a oneof.
        Name <: string:
            @json_tag = "name"
            @rpcId = "1"
        Options <: google_protobuf_OneofOptions.OneofOptions:
            @json_tag = "options"
            @rpcId = "2"
    !type OneofOptions:
        UninterpretedOption <: sequence of google_protobuf_UninterpretedOption.UninterpretedOption
    !type ServiceDescriptorProto:
        @description =:
            |// Describes a service.
        Method <: sequence of google_protobuf_MethodDescriptorProto.MethodDescriptorProto
        Name <: string:
            @json_tag = "name"
            @rpcId = "1"
        Options <: google_protobuf_ServiceOptions.ServiceOptions:
            @json_tag = "options"
            @rpcId = "3"
    !type ServiceOptions:
        Deprecated <: bool:
            @json_tag = "deprecated"
            @rpcId = "33"
        UninterpretedOption <: sequence of google_protobuf_UninterpretedOption.UninterpretedOption
    !type SourceCodeInfo:
        @description =:
            |// Encapsulates information about the original source file from which a
            |// FileDescriptorProto was generated.
        Location <: sequence of google_protobuf_SourceCodeInfo_Location.SourceCodeInfo_Location
    !type UninterpretedOption:
        @description =:
            |// A message representing a option the parser does not recognize. This only
            |// appears in options protos created by the compiler::Parser class.
            |// DescriptorPool resolves these when building Descriptor objects. Therefore,
            |// options protos in descriptor objects (e.g. returned by Descriptor::options(),
            |// or produced by Descriptor::CopyTo()) will never have UninterpretedOptions
            |// in them.
        AggregateValue <: string:
            @json_tag = "aggregateValue"
            @rpcId = "8"
        DoubleValue <: float:
            @json_tag = "doubleValue"
            @rpcId = "6"
        IdentifierValue <: string:
            @json_tag = "identifierValue"
            @rpcId = "3"
        Name <: sequence of google_protobuf_UninterpretedOption_NamePart.UninterpretedOption_NamePart
        NegativeIntValue <: int:
            @json_tag = "negativeIntValue"
            @rpcId = "5"
        PositiveIntValue <: int:
            @json_tag = "positiveIntValue"
            @rpcId = "4"
        StringValue <: bytes:
            @json_tag = "stringValue"
            @rpcId = "7"

google_protobuf_DescriptorProto:
    @package = "google_protobuf_DescriptorProto"
    !type DescriptorProto_ExtensionRange:
        End <: int:
            @json_tag = "end"
            @rpcId = "2"
        Options <: google_protobuf_ExtensionRangeOptions.ExtensionRangeOptions:
            @json_tag = "options"
            @rpcId = "3"
        Start <: int:
            @json_tag = "start"
            @rpcId = "1"
    !type DescriptorProto_ReservedRange:
        @description =:
            |// Range of reserved tag numbers. Reserved tag numbers may not be used by
            |// fields or extension ranges in the same message. Reserved ranges may
            |// not overlap.
        End <: int:
            @json_tag = "end"
            @rpcId = "2"
        Start <: int:
            @json_tag = "start"
            @rpcId = "1"

google_protobuf_EnumDescriptorProto:
    @package = "google_protobuf_EnumDescriptorProto"
    !type EnumDescriptorProto_EnumReservedRange:
        @description =:
            |// Range of reserved numeric values. Reserved values may not be used by
            |// entries in the same enum. Reserved ranges may not overlap.
            |//
            |// Note that this is distinct from DescriptorProto.ReservedRange in that it
            |// is inclusive such that it can appropriately represent the entire int32
            |// domain.
        End <: int:
            @json_tag = "end"
            @rpcId = "2"
        Start <: int:
            @json_tag = "start"
            @rpcId = "1"

google_protobuf_FieldDescriptorProto:
    !enum Label:
        LABEL_OPTIONAL: 1
        LABEL_REPEATED: 3
        LABEL_REQUIRED: 2
    !enum Type:
        TYPE_BOOL: 8
        TYPE_BYTES: 12
        TYPE_DOUBLE: 1
        TYPE_ENUM: 14
        TYPE_FIXED32: 7
        TYPE_FIXED64: 6
        TYPE_FLOAT: 2
        TYPE_GROUP: 10
        TYPE_INT32: 5
        TYPE_INT64: 3
        TYPE_MESSAGE: 11
        TYPE_SFIXED32: 15
        TYPE_SFIXED64: 16
        TYPE_SINT32: 17
        TYPE_SINT64: 18
        TYPE_STRING: 9
        TYPE_UINT32: 13
        TYPE_UINT64: 4

google_protobuf_FieldOptions:
    !enum CType:
        CORD: 1
        STRING_: 0
        STRING_PIECE: 2
    !enum JSType:
        JS_NORMAL: 0
        JS_NUMBER: 2
        JS_STRING: 1

google_protobuf_FileOptions:
    !enum OptimizeMode:
        CODE_SIZE: 2
        LITE_RUNTIME: 3
        SPEED: 1

google_protobuf_GeneratedCodeInfo:
    @package = "google_protobuf_GeneratedCodeInfo"
    !type GeneratedCodeInfo_Annotation:
        Begin <: int:
            @json_tag = "begin"
            @rpcId = "3"
        End <: int:
            @json_tag = "end"
            @rpcId = "4"
        Path <: sequence of int
        SourceFile <: string:
            @json_tag = "sourceFile"
            @rpcId = "2"

google_protobuf_MethodOptions:
    !enum IdempotencyLevel:
        IDEMPOTENCY_UNKNOWN: 0
        IDEMPOTENT: 2
        NO_SIDE_EFFECTS: 1

google_protobuf_SourceCodeInfo:
    @package = "google_protobuf_SourceCodeInfo"
    !type SourceCodeInfo_Location:
        LeadingComments <: string:
            @json_tag = "leadingComments"
            @rpcId = "3"
        LeadingDetachedComments <: sequence of string
        Path <: sequence of int
        Span <: sequence of int
        TrailingComments <: string:
            @json_tag = "trailingComments"
            @rpcId = "4"

google_protobuf_UninterpretedOption:
    @package = "google_protobuf_UninterpretedOption"
    !type UninterpretedOption_NamePart:
        @description =:
            |// The name of the uninterpreted option.  Each string represents a segment in
            |// a dot-separated name.  is_extension is true iff a segment represents an
            |// extension (denoted with parentheses in options specs in .proto files).
            |// E.g.,{ ["foo", false], ["bar.baz", true], ["qux", false] } represents
            |// "foo.(bar.baz).qux".
        IsExtension <: bool:
            @json_tag = "isExtension"
            @rpcId = "2"
        NamePart <: string:
            @json_tag = "namePart"
            @rpcId = "1"

grpc_testing:
    @package = "grpc_testing"
    !type EchoStatus:
        @description =:
            |// A protobuf representation for grpc status. This is used by test
            |// clients to specify a status that the server should attempt to return.
        Code <: int:
            @json_tag = "code"
            @rpcId = "1"
        Message <: string:
            @json_tag = "message"
            @rpcId = "2"
    !enum GrpclbRouteType:
        GRPCLB_ROUTE_TYPE_BACKEND: 2
        GRPCLB_ROUTE_TYPE_FALLBACK: 1
        GRPCLB_ROUTE_TYPE_UNKNOWN: 0
    !type Payload:
        @description =:
            |// A block of data, to simply increase gRPC message size.
        Body <: bytes:
            @json_tag = "body"
            @rpcId = "2"
        Type <: grpc_testing_Payload.PayloadType:
            @json_tag = "type"
            @rpcId = "1"
    !enum PayloadType:
        COMPRESSABLE: 0
        RANDOM: 2
        UNCOMPRESSABLE: 1
    !type ResponseParameters:
        @description =:
            |// Configuration for a particular response.
        IntervalUs <: int:
            @json_tag = "intervalUs"
            @rpcId = "2"
        Size <: int:
            @json_tag = "size"
            @rpcId = "1"
    !type SimpleRequest:
        @description =:
            |// Unary request.
        FillGrpclbRouteType <: bool:
            @json_tag = "fillGrpclbRouteType"
            @rpcId = "10"
        FillOauthScope <: bool:
            @json_tag = "fillOauthScope"
            @rpcId = "5"
        FillServerId <: bool:
            @json_tag = "fillServerId"
            @rpcId = "9"
        FillUsername <: bool:
            @json_tag = "fillUsername"
            @rpcId = "4"
        Payload <: grpc_testing_Payload.Payload:
            @json_tag = "payload"
            @rpcId = "3"
        ResponseSize <: int:
            @json_tag = "responseSize"
            @rpcId = "2"
        ResponseStatus <: grpc_testing_EchoStatus.EchoStatus:
            @json_tag = "responseStatus"
            @rpcId = "7"
        ResponseType <: grpc_testing_SimpleRequest.PayloadType:
            @json_tag = "responseType"
            @rpcId = "1"
    !type SimpleResponse:
        @description =:
            |// Unary response, as configured by the request.
        GrpclbRouteType <: grpc_testing_SimpleResponse.GrpclbRouteType:
            @json_tag = "grpclbRouteType"
            @rpcId = "5"
        OauthScope <: string:
            @json_tag = "oauthScope"
            @rpcId = "3"
        Payload <: grpc_testing_Payload.Payload:
            @json_tag = "payload"
            @rpcId = "1"
        ServerId <: string:
            @json_tag = "serverId"
            @rpcId = "4"
        Username <: string:
            @json_tag = "username"
            @rpcId = "2"
    !type StreamingInputCallRequest:
        @description =:
            |// Client-streaming request.
        Payload <: grpc_testing_Payload.Payload:
            @json_tag = "payload"
            @rpcId = "1"
    !type StreamingInputCallResponse:
        @description =:
            |// Client-streaming response.
        AggregatedPayloadSize <: int:
            @json_tag = "aggregatedPayloadSize"
            @rpcId = "1"
    !type StreamingOutputCallRequest:
        @description =:
            |// Server-streaming request.
        Payload <: grpc_testing_Payload.Payload:
            @json_tag = "payload"
            @rpcId = "3"
        ResponseParameters <: sequence of grpc_testing_ResponseParameters.ResponseParameters
        ResponseStatus <: grpc_testing_EchoStatus.EchoStatus:
            @json_tag = "responseStatus"
            @rpcId = "7"
        ResponseType <: grpc_testing_StreamingOutputCallRequest.PayloadType:
            @json_tag = "responseType"
            @rpcId = "1"
    !type StreamingOutputCallResponse:
        @description =:
            |// Server-streaming response, as configured by the request and parameters.
        Payload <: grpc_testing_Payload.Payload:
            @json_tag = "payload"
            @rpcId = "1"

